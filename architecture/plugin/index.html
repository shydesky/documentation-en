<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Plugin - TRON Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Plugin";
    var mkdocs_page_input_path = "architecture/plugin.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> TRON Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">Introduction</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../introduction/">Repository</a>
                </li>
                <li class="">
                    
    <a class="" href="../../introduction/dpos/">DPOS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../api/http/">Http Api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../api/rpc/">Rpc Api</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Mechanism & Algorithm</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/sr/">SR and Committee</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/trc10/">TRC-10</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/account/">Account Model</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/resource/">Resource Model</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/dex/">DEX</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/multi-signatures/">Multi Signatures</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/shielded-transaction/">Shielded Transaction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mechanism&algorithm/systemContracts/">System Contracts</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Architecture</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../network/">Network</a>
                </li>
                <li class="">
                    
    <a class="" href="../database/">Database</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Plugin</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#tron-event-subscription">TRON Event Subscription</a></li>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Smart Contract</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../contracts/tvm/">TVM</a>
                </li>
                <li class="">
                    
    <a class="" href="../../contracts/compiler/">Compiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../contracts/contract/">Contract</a>
                </li>
                <li class="">
                    
    <a class="" href="../../contracts/trc20/">TRC-20</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Developers</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../developers/official-public-nodes/">Official Public Nodes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/deployment/">Deployment</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/run_in_IDEA/">Run FullNode in IDEA</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/resources/">Resources</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/contribution/">Contribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../developers/incentives/">Incentives Policy</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Clients</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../clients/wallet-cli/">Wallet-cli</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../q&a/qa/">Q&A</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../glossary/">Glossary</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">TRON Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Architecture &raquo;</li>
        
      
    
    <li>Plugin</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="tron-event-subscription">TRON Event Subscription</h2>
<h3> Introduction </h3>

<p>TIP: <a href="https://github.com/tronprotocol/TIPs/issues/12">https://github.com/tronprotocol/TIPs/issues/12</a>  </p>
<p>TRON Event Subscription supports 4 types of event:  </p>
<ul>
<li>Transaction Event </li>
</ul>
<p>The parameters passed to Subscriber: </p>
<p>transactionId: transaction hash <br />
blockHash: block hash  <br />
blockNumber: block number <br />
energyUsage: energy usage <br />
energyFee: energy fee <br />
originEnergyUsage: origin energy usage 
energyUsageTotal: total energy usage total</p>
<ul>
<li>Block Event</li>
</ul>
<p>The parameters passed to Subscriber:   </p>
<p>blockHash: block hash  <br />
blockNumber: block number  <br />
transactionSize: the number of transactions in a block <br />
latestSolidifiedBlockNumber: the latest solidified block number    <br />
transactionList: the transactions hash list    </p>
<ul>
<li>Contract Event  </li>
</ul>
<p>The parameters passed to Subscriber:    </p>
<p>transactionId: transaction id <br />
contractAddress: contract address   <br />
callerAddress: contract caller address     <br />
blockNumber: the number of the block contract related events recorded    <br />
blockTimestamp: the block time stamp   <br />
eventSignature: event signature   <br />
topicMap: the map of topic in solidity language  <br />
data: the data information in solidity language <br />
removed: 'true' means the log is removed    </p>
<ul>
<li>Contract Log Event  </li>
</ul>
<p>The parameters passed to Subscriber: <br />
transactionId: transaction hash 
contractAddress: contract address   <br />
callerAddress: contract caller address   <br />
blockNumber: the number of the block contract related events recorded  <br />
blockTimestamp: the block time stamp    <br />
contractTopics: the list of topic in solidity language  <br />
data: the data information in solidity language  <br />
removed: 'true' means the log is removed   </p>
<p>Contract Event and Contract Log Even support event filter function which includes:   </p>
<p>fromBlock: the start block number <br />
toBlock: the end block number  <br />
contractAddress: contract adsresses list<br />
contractTopics: contract topics list    </p>
<p><strong>Note</strong>: History data query is not supported.  </p>
<h3> New features </h3>

<p>1.&nbsp;Supporting event plug-ins, kafka &amp; mongodb plug-ins have been released, developers can also customize their own plug-ins according to their own needs.</p>
<p>2.&nbsp;Supporting subscription of chain data, such as block, transaction, contract log, contract event and so on. For transaction events, developers can get information such as internal transactions, contract info and so on; for contract events, developers could configure the contract addresses list or contract topic list to receive the specified events, and event subscription has a very low latency. The deployed fullnode can receive event information immediately after the contract is executed.</p>
<p>3.&nbsp;Event query service tron-eventquery, online Event query service provided. Developers can query trigger information in the last seven days through https, and the query address is <a href="https://api.tronex.io">https://api.tronex.io</a></p>
<h3> Github project </h3>

<ul>
<li><a href="https://github.com/tronprotocol/event-plugin">event plugin</a>  </li>
<li><a href="https://github.com/tronprotocol/tron-eventquery">event query</a>  </li>
</ul>
<h3> Event plugin </h3>

<ul>
<li><a href="https://tronprotocol.github.io/documentation-EN/developers/deployment/#kafka">kafka deployment</a>  </li>
<li><a href="https://tronprotocol.github.io/documentation-EN/developers/deployment/#mongo">mongo deployment</a>  </li>
</ul>
<h3> Event query </h3>

<p>Tron Event Query Service</p>
<p>TronEventQuery is implemented with Tron's new event subscribe model. It uses same query interface with Tron-Grid. Users can also subscribe block trigger, transaction trigger, contract log trigger, and contract event trigger. TronEvent is independent of a particular branch of java-tron, the new event subscribes model will be released on version 3.5 of java-tron.</p>
<p>For more information of tron event subscribe model, please refer to <a href="https://github.com/tronprotocol/TIPs/issues/12">https://github.com/tronprotocol/TIPs/issues/12</a></p>
<ul>
<li><a href="https://tronprotocol.github.io/documentation-EN/developers/deployment/#event-subscribe-plugin-deployment">Event query deployment</a></li>
<li><a href="https://github.com/tronprotocol/documentation-EN/tree/master/docs_without_index/plugin/event-query-http.md">Event query http api</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../contracts/tvm/" class="btn btn-neutral float-right" title="TVM">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../database/" class="btn btn-neutral" title="Database"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../database/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../contracts/tvm/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
